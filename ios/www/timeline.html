<!DOCTYPE html><html><head><title>ScienceKit</title><link rel="stylesheet" href="./css/style.css"><script src="cordova-2.6.0.js"></script><script src="childbrowser.js"></script><script src="jquery.min.js"></script><script src="socket.io.min.js"></script><script src="js/easeljs-0.6.0.min.js"></script><script src="js/canvas2image.js"></script><script src="js/base64.js"></script><script src="js/moment.min.js"></script><script src="js/sciencekit.js"></script></head><body><!-- TODO: Remove this!--><!--h2 Exchange client's authorization grant for a client access token--><!--a(id="auth_link", href="javascript:void(0);") Authenticate ScienceKit--><!--p(id="token_response") no token received--><!--h2 Request Resource (on behalf of owner that granted authorization)--><!--a(id="account-list", href="javascript:void(0);") Request resource (using access token)--><!--p(id="resource_response") no resource received--><div id="mode-options" style="position: fixed; left: 10px; top: 0px; text-align: right; font-size: 30px; padding-right: 10px; z-index: 1001;" class="edge"><a href="javascript:void(0);" onclick="openInquiryPerspective();"> <img src="./img/earth.png" width="50px" alt="inquiry">capture</a><a href="javascript:void(0);" onclick="openStoryPerspective();"> <img src="./img/story.png" width="50px" alt="story">story</a></div><!--.edge(id="logo", style="position: fixed; left: 80px; top: 0px; text-align: right; font-size: 30px; padding-right: 10px; z-index: 1001;")--><!--	img(id="logo", src="./img/sciencekit-logo.png", alt="sciencekit logo", style="margin-top: 0px; width: 230px;")--><div id="top" style="text-align: right; font-size: 30px; padding-right: 10px; z-index: 1000;" class="edge"><!--a(a(href="javscript:void(0);", onclick="generateStory();") --><!--	img(src="./img/story-time.png", alt="story time")--><a href="javascript:void(0);" onclick="scrollTickle();"> <img src="./img/search.png" alt="search"></a><!--a(href="javascript:void(0);", onclick="showHiddenFrames();") --><!--	img(src="./img/history.png", alt="show whole story") --><a href="./timeline.html"> <img src="./img/refresh.png" alt="refresh"></a><a href="javscript:void(0);" onclick="scrollToTop();"> <img src="./img/up-arrow.png" alt="top"></a></div><!----><!-- Toolkit Options--><!----><div id="toolkit-options" style="position: fixed; right: 0px; top: 100px; text-align: right; font-size: 30px; padding-right: 10px; z-index: 1000;" class="edge"><a href="javascript:void(0);" onclick="openTextTool();"> <img src="./img/text.png" width="50px" alt="text"></a><br><!--a(href="javascript:void(0);", onclick="openPhotoTool();") --><a href="javascript:void(0);" onclick="capturePhotoToURI();"> <img src="./img/camera.png" width="50px" alt="image"></a><br><!-- a(href="javascript:void(0);", onclick="openVideoTool();") --><a href="javascript:void(0);" onclick="captureVideo2();"> <img src="./img/video.png" width="50px" alt="video"></a><br><!--a(href="javascript:void(0);", onclick="openSketchTool2();") --><a href="javascript:void(0);" onclick="openSketchTool();"> <img src="./img/palette.png" width="50px" alt="sketch"></a><br><!--a(href="javascript:void(0);", onclick="openQuestionTool();") --><!--	img(src="./img/question.png", width="50px", alt="question")--><!--br--><!--a(href="javascript:void(0);", onclick="openObservationTool();") --><!--	img(src="./img/cause-and-effect.png", width="50px", alt="observation")--><!--br--><!--a(href="javascript:void(0);", onclick="openSequenceTool();") --><!--	img(src="./img/step-by-step.png", width="50px", alt="sequence")--><!--br--><!--a(href="javascript:void(0);", onclick="addThoughtWidget();") --><!--	img(src="./img/thought.png", width="50px", alt="thought")--><!--br--></div><!----><!-- Toolkit Per-Tool Options--><!----><div id="toolkit-tool-options" style="position: fixed; right: 0px; top: 100px; text-align: right; font-size: 30px; padding-right: 10px; z-index: 1000;" class="edge"><a href="javascript:void(0);" onclick="cancelTool();"> <img src="./img/cross-red.png" width="50px" alt="cancel"></a><br><a href="javascript:void(0);" onclick="saveTool();"> <img src="./img/check.png" width="50px" alt="done"></a></div><!----><!-- Templates for Timeline Widgets (this is not visible)--><!----><div id="narrative-templates" class="narrative-templates"><!-- Template timeline widgets--><ul id="narrative-list-template"><li id="text-activity-template" data-activity-type="text" data-id="" data-timeline="" class="activity-template"><div style="display: table; width: 100%;"><div style="display: table-row; position: relative;"><div class="entry-margin"><div class="entry-margin-icon"><img src="./img/text.png" width="50" height="50" class="entry-margin-icon-img"></div></div><div class="account entry-body">&nbsp;</div><div style="display: table; position: absolute; right: 100px;" class="bump-section"><div style="display: table-row;"><div style="display: table-cell; vertical-align: middle; text-align: center; font-size: 20px; padding-right: 6px;" class="bump-count">&nbsp;</div><div style="display: table-cell; vertical-align: middle; text-align: center;">&times;</div><div style="display: table-cell; vertical-align: middle; text-align: center;"><img src="./img/star-yellow.png" class="bump"></div></div></div></div><div style="display: table-row;"><div class="entry-margin"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div class="entry-body"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table question-section"><!-- Core activity--><div style="display: table-row;" class="element question"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text">-</div></div><!-- Divider--><div style="display: table-row;" class="question"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div></div><div style="display: table; width: 100%;" class="element-table observation-section"><!----><!-- Observation--><!----><!-- Effect--><div style="display: table-row;" class="element observation"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text effect">-</div></div><!-- Divider--><div style="display: table-row;" class="observation"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 0px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Cause--><div style="display: table-row;" class="element observation"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text cause">-</div></div><!-- Divider--><div style="display: table-row;" class="observation"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div></div><div style="display: table; width: 100%;" class="element-table sequence-section"><!----><!-- Sequence--><!----><!-- Step--><div style="display: table-row;" class="element sequence sequence-step-template"><div style="display: table-cell; min-width: 100%; vertical-align: middle; min-height: 100px;"><div style="padding: 10px; margin: 0px;" class="step">-</div></div></div><!-- Divider--><div style="display: table-row;" class=" sequence sequence-step-divider-template"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div></div><div style="display: table; width: 100%;" class="element-table tag-section"><!----><!-- Tags--><!----><div style="display: table-row;"><div contenteditable="true" style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 40px; background-image: url(./img/topic.png); background-size: 30px 30px; background-repeat: no-repeat; height: 30px;" class="tags"><!--img(src="./img/topic.png", width="30", height="30", style="padding: 0px 8px 0px 0px; margin: 0px; vertical-align: middle;")-->&nbsp;</div></div></div></div></div></div></div></li><li id="thought-activity-template" data-activity-type="thought" data-id="" data-timeline="" class="activity-template"><div style="display: table; width: 100%;"><div style="display: table-row;"><div class="entry-margin"><div class="entry-margin-icon"><img src="./img/thought.png" width="50" height="50"></div></div><div class="account entry-body">&nbsp;</div><div style="display: table; position: absolute; right: 100px;" class="bump-section"><div style="display: table-row;"><div style="display: table-cell; vertical-align: middle; text-align: center; font-size: 20px; padding-right: 6px;" class="bump-count">&nbsp;</div><div style="display: table-cell; vertical-align: middle; text-align: center;">&times;</div><div style="display: table-cell; vertical-align: middle; text-align: center;"><img src="./img/star-yellow.png" class="bump"></div></div></div></div><div style="display: table-row;"><div class="entry-margin"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div class="entry-body"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table"><!-- Core activity--><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text">-</div></div><!-- Divider--><div style="display: table-row;"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Tags--><div style="display: table-row;"><div contenteditable="true" style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 40px; background-image: url(./img/topic.png); background-size: 30px 30px; background-repeat: no-repeat; height: 30px;" class="tags"><!--img(src="./img/topic.png", width="30", height="30", style="padding: 0px 8px 0px 0px; margin: 0px; vertical-align: middle;")-->&nbsp;</div></div></div></div></div></div></div></li><li id="photo-template" data-activity-type="photo" data-id="" data-timeline="" class="activity-template"><div style="display: table; width: 100%;"><div style="display: table-row;"><div class="entry-margin"><div class="entry-margin-icon"><img src="./img/camera.png" width="50" height="50"></div></div><div class="account entry-body">&nbsp;</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="entry-margin"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div class="entry-body"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table"><!-- Core activity--><div style="display: table-row;" class="element"><img src="./img/camera.png" width="250" height="250" class="image"></div><!-- Divider--><div style="display: table-row;" class="question-section observation-section sequence-section"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!----><!-- Question--><!----><div style="display: table-row;" class="question-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/question-green.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="question">question</div></div><!----><!-- Observation--><!----><div style="display: table-row;" class="observation-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/cause-and-effect.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="observation-effect">observation</div></div><!-- Divider--><div style="display: table-row;" class="observation-section"><div style="display: table-cell;" class="divider"><hr style="margin-left: 50px; height: 1px; border: none; background-color: #dddddd;"></div></div><div style="display: table-row;" class="observation-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="observation-cause">cause</div></div><!----><!-- Sequence--><!----><div style="display: table-row;" class="sequence-section-template"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/step-by-step.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="step">step 1</div></div><!-- Divider--><div style="display: table-row;" class="sequence-section-divider-template"><div style="display: table-cell;" class="divider"><hr style="margin-left: 50px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Divider--><div style="display: table-row;"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Tags--><div style="display: table-row;"><div contenteditable="true" style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 40px; background-image: url(./img/topic.png); background-size: 30px 30px; background-repeat: no-repeat; height: 30px;" class="tags"><!--img(src="./img/topic.png", width="30", height="30", style="padding: 0px 8px 0px 0px; margin: 0px; vertical-align: middle;")-->&nbsp;</div></div></div></div></div></div></div></li><li id="video-activity-template" data-activity-type="video" data-id="" data-timeline="" class="activity-template"><div style="display: table; width: 100%;"><div style="display: table-row;"><div class="entry-margin"><div class="entry-margin-icon"><img src="./img/video.png" width="50" height="50"></div></div><div class="account entry-body">&nbsp;</div><div style="display: table; position: absolute; right: 100px;" class="bump-section"><div style="display: table-row;"><div style="display: table-cell; vertical-align: middle; text-align: center; font-size: 20px; padding-right: 6px;" class="bump-count">&nbsp;</div><div style="display: table-cell; vertical-align: middle; text-align: center;">&times;</div><div style="display: table-cell; vertical-align: middle; text-align: center;"><img src="./img/star-yellow.png" class="bump"></div></div></div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="entry-margin"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div class="entry-body"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table"><!-- Core activity--><div style="display: table-row;" class="element"><video width="320" height="240" controls class="video"></video></div><!-- Divider--><div style="display: table-row;" class="question-section observation-section sequence-section"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!----><!-- Question--><!----><div style="display: table-row;" class="question-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/question-green.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="question">question</div></div><!----><!-- Observation--><!----><div style="display: table-row;" class="observation-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/cause-and-effect.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="observation-effect">observation</div></div><!-- Divider--><div style="display: table-row;" class="observation-section"><div style="display: table-cell;" class="divider"><hr style="margin-left: 50px; height: 1px; border: none; background-color: #dddddd;"></div></div><div style="display: table-row;" class="observation-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="observation-cause">cause</div></div><!----><!-- Sequence--><!----><div style="display: table-row;" class="sequence-section-template"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/step-by-step.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="step">step 1</div></div><!-- Divider--><div style="display: table-row;" class="sequence-section-divider-template"><div style="display: table-cell;" class="divider"><hr style="margin-left: 50px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Divider--><div style="display: table-row;"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Tags--><div style="display: table-row;"><div contenteditable="true" style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 40px; background-image: url(./img/topic.png); background-size: 30px 30px; background-repeat: no-repeat; height: 30px;" class="tags"><!--img(src="./img/topic.png", width="30", height="30", style="padding: 0px 8px 0px 0px; margin: 0px; vertical-align: middle;")-->&nbsp;</div></div></div></div></div></div></div></li><li id="sketch-activity-template" data-activity-type="sketch" data-id="" data-timeline="" class="activity-template"><div style="display: table; width: 100%;"><div style="display: table-row;"><div class="entry-margin"><div class="entry-margin-icon"><img src="./img/palette.png" width="50" height="50"></div></div><div class="account entry-body">&nbsp;</div><div style="display: table; position: absolute; right: 100px;" class="bump-section"><div style="display: table-row;"><div style="display: table-cell; vertical-align: middle; text-align: center; font-size: 20px; padding-right: 6px;" class="bump-count">&nbsp;</div><div style="display: table-cell; vertical-align: middle; text-align: center;">&times;</div><div style="display: table-cell; vertical-align: middle; text-align: center;"><img src="./img/star-yellow.png" class="bump"></div></div></div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;" class="entry-margin"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div class="entry-body"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table"><!-- Core activity--><div style="display: table-row;" class="element"><img src="./img/palette.png" width="250" height="250" class="image"></div><!-- Divider--><div style="display: table-row;" class="question-section observation-section sequence-section"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!----><!-- Question--><!----><div style="display: table-row;" class="question-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/question-green.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="question">question</div></div><!----><!-- Observation--><!----><div style="display: table-row;" class="observation-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/cause-and-effect.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="observation-effect">observation</div></div><!-- Divider--><div style="display: table-row;" class="observation-section"><div style="display: table-cell;" class="divider"><hr style="margin-left: 50px; height: 1px; border: none; background-color: #dddddd;"></div></div><div style="display: table-row;" class="observation-section"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="observation-cause">cause</div></div><!----><!-- Sequence--><!----><div style="display: table-row;" class="sequence-section-template"><div style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 60px; background-image: url(./img/step-by-step.png); background-size: 50px 50px; background-repeat: no-repeat; height: 50px;" class="step">step 1</div></div><!-- Divider--><div style="display: table-row;" class="sequence-section-divider-template"><div style="display: table-cell;" class="divider"><hr style="margin-left: 50px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Divider--><div style="display: table-row;"><div style="display: table-cell;" class="divider"><hr style="margin-bottom: 8px; height: 1px; border: none; background-color: #dddddd;"></div></div><!-- Tags--><div style="display: table-row;"><div contenteditable="true" style="display: table-cell; min-width: 100%; vertical-align: middle; font-size: 20px; color: #666666; padding-left: 40px; background-image: url(./img/topic.png); background-size: 30px 30px; background-repeat: no-repeat; height: 30px;" class="tags"><!--img(src="./img/topic.png", width="30", height="30", style="padding: 0px 8px 0px 0px; margin: 0px; vertical-align: middle;")-->&nbsp;</div></div></div></div></div></div></div></li></ul></div><!----><!-- Top of interface--><!----><div style="display: table; width: 100%; margin: 0px; margin-top: 0px; padding: 0px;"><!----><!-- ScienceKit logo (shown on "default" timeline)--><!----><div style="display: table-row;" id="sciencekit-logo"><div style="display: table-cell; text-align: center; vertical-align: middle; width: 30px;"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; width: 100%; border-left: 0px solid #f16521; padding-left: 10px;">&nbsp;</div></div><!----><!-- Timeline introductory text (e.g., "once upon a time")--><!----><!--div(style="display: table-row;", id="timeline-intro-text")--><!--	div(style="display: table-cell; text-align: center; vertical-align: middle; width: 30px;")--><!--		img(src="./img/blank.png", width="30", height="30", style="padding: 10px;")--><!--	div(style="display: table-cell; width: 100%; border-left: 2px solid #f16521; padding-left: 10px;")--><!--		p(id="beginning", class="tagline") all inquiry data--></div><!----><!-- Story Perspective--><!----><ul id="story-perspective-list"><!----><!-- "Think/Do" (Science/Art), Media/Concept--><!----><li id="story-grid"><!----><!-- Text--><!----><div id="story-grid-tool" style="display: table; width: 100%;" class=""><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>Stories</strong> (Create or choose one)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><a href="javascript:void(0);" onclick="openStoryTool();" class="story-tool"><img src="./img/plus-red.png" width="50" height="50" style="0px 10px 0px 10px;"></a></div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="story-grid-options"><div id="story-grid-table" style="display: table; width: 100%;" class="element-table"><!-- div(id="sequence-tool-template-step", style="display: table-row;")--><div id="story-grid-template-row" style="display: table-row;"><div style="display: table-cell; width: 33%; vertical-align: middle;"><div class="story-cover-left"><strong>book one</strong><br />
by ... with ...</div></div><div style="display: table-cell; width: 33%; vertical-align: middle;"><div class="story-cover-middle">book one</div></div><div style="display: table-cell; width: 33%; vertical-align: middle;"><div class="story-cover-right">book one</div></div></div></div></div></div></div></div></div></li><li id="story-title" class=""><!----><!-- Text--><!----><div id="story-tool" style="display: table; width: 100%;" class="story-tool toolkit-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>Title</strong> (Type/Create)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/story.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input type="text" id="story-tool-title"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div></li></ul><!----><!-- Toolkit tool interfaces--><!----><ul id="toolkit-list"><!----><!-- "Think/Do" (Science/Art), Media/Concept--><!----><li id="media-toolkit" class="toolkit-tool media-toolkit tool-template"><!----><!-- Text--><!----><!--div(id="text-tool", class="text-tool toolkit-tool", style="display: table; width: 100%;")	--><!----><!-- Photo--><!----><div id="photo-tool" style="display: table; width: 100%;" class="photo-tool toolkit-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/camera.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><img id="photo-tool-photo" src="./img/camera.png" width="250" height="250" class="image"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div><!----><!-- Video--><!----><div id="video-tool" style="display: table; width: 100%;" class="video-tool toolkit-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/video.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><video width="320" height="240" controls class="video"></video></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div><!----><!-- Sketch--><!----><div id="sketch-tool2" style="display: table; width: 100%;" class="sketch-tool2 toolkit-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/palette.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><img src="./img/palette.png" width="250" height="250" class="image"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div></li><!----><!-- Media Type--><!----><li id="media-type-options" class="toolkit-tool media-toolkit tool-template"><div id="media-type-options" style="display: table; width: 100%;" class="media-toolkit"><!----><!-- What kind of content is this?--><!----><div style="display: table-row;" class="media-type-options"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>What kind is it?</strong> (Choose one)</div></div><div style="display: table-row;" class="media-type-options"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><a href="javscript:void(0);" onclick="openQuestionTool();"> <img src="./img/question.png" width="50" height="50" style="padding: 0px 10px 0px 10px;"></a><a href="javscript:void(0);" onclick="openObservationTool();"><img src="./img/cause-and-effect.png" width="50" height="50" style="padding: 0px 10px 0px 10px;"></a><a href="javscript:void(0);" onclick="openSequenceTool();"> <img src="./img/step-by-step.png" width="50" height="50" style="padding: 0px 10px 0px 10px;"></a></div></div></div></li><!----><!-- Concept Toolkit--><!----><li id="concept-toolkit" class="concept-tool toolkit-tool concept-toolkit tool-template"><!----><!-- Question--><!----><div id="question-tool" style="display: table; width: 100%;" class="question-tool concept-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>What do you wonder?</strong> (Type/Create)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/question.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input type="text" id="question-tool-text"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div><!----><!-- Observation--><!----><div id="observation-tool" style="display: table; width: 100%;" class="observation-tool concept-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>What do you see?</strong> (Type/Create)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/cause-and-effect.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input type="text" id="observation-tool-effect"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>Why did it happen?</strong> (Type/Create)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input type="text" id="observation-tool-cause"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div><!----><!-- Sequence--><!----><div id="sequence-tool" style="display: table; width: 100%;" class="sequence-tool concept-tool"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>What is the first step?</strong> (Type/Create)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/step-by-step.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input type="text" class="sequence-tool-step"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><a href="javascript:void(0);" onclick="addSequenceStep();" class="sequence-tool"><img src="./img/plus-red.png" width="50" height="50" style="0px 10px 0px 10px;"></a></div></div><!-- Sequence Step Template--><!-- This is the template used for steps in the sequence.--><!--div(id="sequence-tool-template-label", style="display: table-row;")--><!--	div(style="display: table-cell; text-align: center; vertical-align: middle;")--><!--		img(src="./img/blank.png", width="50", height="0", style="padding: 10px;")--><!--	div(class="account", style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;")--><!--		| What is <strong>first</strong>? (Type/Create)--><div id="sequence-tool-template-step" style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="tool-section"><div class="text-input-widget"><div style="display: table; width: 100%;" class="element-table"><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input type="text" class="sequence-tool-step"></div><div style="width: 75px; display: table-cell; text-align: right; vertical-align: middle;" class="options"><img id="hostAddressSave" src="./img/check.png" style="display: none;"><img id="hostAddressInvalid" src="./img/cross-red.png" style="display: none;"></div></div></div></div></div></div></div></div></li><li id="tool-extra-options" class="toolkit-tool tool-template"><div style="display: table; width: 100%;"><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 0px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 0px; padding-top: 10px; font-size: 20px; color: #666666;"><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 70px; height: 1px; border: none; background-color: #dddddd;"></div></div><!----><!-- Collaborate--><!----><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>Who else helped you with this just now?</strong> (Select everyone)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table"><!-- Core activity--><div style="display: table-row;" class="element"><div id="collaborator-options" style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"></div></div></div></div></div></div><!----><!-- Feel--><!----><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="0" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521; vertical-align: middle; padding-left: 22px; padding-top: 10px; font-size: 20px; color: #666666;" class="account"><strong>What do you feel like?</strong> (Choose one)</div></div><div style="display: table-row;"><div style="display: table-cell; text-align: center; vertical-align: middle;"><img src="./img/blank.png" width="50" height="50" style="padding: 10px;"></div><div style="display: table-cell; position: relative; z-index: 0; width: 100%; border-left: 0px solid #f16521;"><div class="activity-widget"><div style="display: table; width: 100%;" class="element-table"><!-- Core activity--><div style="display: table-row;" class="element"><div style="display: table-cell; min-width: 100%; vertical-align: middle;" class="text"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">scientist</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">artist</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">explorer</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">maker</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">dancer</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">happy</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">excited</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">intense</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">reflective</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">tired</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">confused</label><hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;"><input name="identity-options" id="scientist-option" value="scientist" type="radio"><label for="scientist">ambitious</label></div></div></div></div></div></div></div></li></ul><!----><!-- Timeline interface--><!----><ul id="narrative-list"></ul><div id="bottom" style="text-align: right; font-size: 30px; padding-right: 10px;" class="edge"><a href="javscript:void(0);" onclick="scrollToBottom();"> <img src="./img/down-arrow.png" alt="bottom" style="position: absolute; bottom: 0px; right: 0px;"></a></div><!----><!-- Bottom of interface--><!----><div style="display: table-row;" id="timeline-intro-text"><div style="display: table-cell; text-align: center; vertical-align: middle; width: 30px;"><img src="./img/blank.png" width="50" height="15" style="padding: 10px;"></div><div style="display: table-cell; width: 100%; border-left: 0px solid #f16521; padding-left: 10px;"><p id="beginning" class="tagline">&nbsp;</p></div></div><!----><!-- "Storybook" interface--><!----><div id="float-page" class="float-page"><div class="float-page-table"><p class="float-page-p">once upon a time</p></div></div><!----><!-- Photo page interface--><!----><div id="photo-page" class="float-page"><div class="float-page-table"><div class="float-page-row"><div style="text-align: right; vertical-align: middle; padding-right: 30px;" class="float-page-cell"><img src="./img/cross-gray.png" class="hide"></div></div><p class="float-page-p"><img src="./img/camera.png" width="900" height="900" class="photo"></p></div></div><!----><!-- Video page interface--><!----><div id="video-page" class="float-page"><div class="float-page-table"><div class="float-page-row"><div style="text-align: right; vertical-align: middle; padding-right: 30px;" class="float-page-cell"><img src="./img/cross-gray.png" class="hide"></div></div><div class="float-page-row"><p class="float-page-p"><video width="640" height="480" source="" controls class="video"></video></p></div></div></div><!----><!-- "Sketch" tool interface--><!----><div id="sketch-tool" class="tool-widget"><div class="tool-table"><!----><!-- Header--><!----><div class="tool-table-row"><div style="text-align: right; vertical-align: middle; padding-right: 30px; padding-top: 30px;" class="tool-table-cell"><img src="./img/cross-gray.png" class="close"></div></div><!----><!-- Body--><!----><div class="tool-table-row"><div style="vertical-align: middle; text-align: center; height: 100%; width: 100%;" class="tool-table-cell"><canvas width="768" height="512" style="background-color: #ffffff;" class="canvas"></canvas><!-- script to initialize canvas, graph event handlers--><!-- - set up handler to grab buffered data upon close, format it, send it to the server, get response, create new element--></div></div><!----><!-- Footer--><!----><div class="tool-table-row"><div class="tool-table-cell">&nbsp;</div></div></div></div><script>window.onload = function() {

 // Set up PhoneGap event listeners
 document.addEventListener("deviceready", onDeviceReady, false);
 
 //localStorage['host'] = 'http://192.168.1.41:3000';
 
 // Initialize web socket connection for real-time collaboration
 connectWebSocket();
 
 // Define interaction event listeners
 
 // Initialize GUI event listeners
 $('#outgoingChatMessage').keypress(function(event) {
  if(event.which == 13) {
   event.preventDefault();
   
   // var oauthAccessToken = $('#token_response').text(); // Get access token
   var oauthAccessToken = localStorage['token'];
   var messageText = $('#outgoingChatMessage').val();
   var message = JSON.stringify({ 'token': oauthAccessToken, 'message': messageText });
   
   console.log('Sending message: ' + message);
   socketio.send(message);
   $('#incomingChatMessages').append($('<li></li>').text($('#outgoingChatMessage').val()));
   $('#outgoingChatMessage').val('');
  }
 });
 
 
 
 
 
 
 // Initialize interface
 $('#float-page').hide();
 $('#photo-page').hide();
 $('#video-page').hide();
 $('#question-tool').hide();
 $('#motion-tool').hide();
 $('#sketch-tool').hide();
 
 $('#story-perspective-list').hide();
 $('#toolkit-list').hide();
 $('#toolkit-tool-options').hide();
 
 $('#previous-timeline-widget').hide();
 
 // Populate timeline
 getTimeline();
 
 // Synchronize Accounts
 getAccounts({}, function(accounts) {
  for(var i = 0; i < accounts.length; i++) {
   var option =
    '<input name="collaborators" id="account-' + accounts[i]._id + '" value="' + accounts[i]._id + '" type="checkbox" />' + 
    '<label for="account-' + accounts[i]._id + '">' + accounts[i].username + '</label>';
   if (i < accounts.length - 1) {
    option += '<hr style="margin-bottom: 14px; margin-top: 14px; margin-right: 0px; height: 1px; border: none; background-color: #dddddd;" />';
   }
   
   $('#collaborator-options').append(option);
  }
 });
}

// Show options when scroll up, hide when scroll down
var prevPosition = 0;
window.onscroll = function() {
 // console.log("scroll event detected! " + window.pageXOffset + " " + window.pageYOffset);
 
 var currPosition = window.pageYOffset;
 var delta = currPosition - prevPosition;
 prevPosition = currPosition;
 //console.log(delta);
 
 // Show or hide bottom shortcuts
 /*
 if(window.pageYOffset >= (document.height - window.innerHeight - 100)) {
  $("#footer").slideDown();
 } else if(delta > 10) {
  $("#footer").slideUp();
 } else if (delta < -10) {
  $("#footer").slideDown();
 }
 */
 
 // Update widget with focus (closest to center)
 /*
 var closestWidget = null;
 var closestDistance = -1;
 var timelineList = $('#narrative-list li').get();
 for(var i = 0; i < timelineList.length; i++) {
  $(timelineList[i]).find('.element .options').css('visibility', 'hidden');
  
  var widgetTop = Math.abs($(timelineList[i]).position().top - (currPosition + window.innerHeight / 2));
  if (closestDistance == -1 || (widgetTop < closestDistance)) {
   closestWidget = $(timelineList[i]);
   closestDistance = widgetTop;
  }
 }
 console.log('Widget with focus: ' + $(closestWidget).attr('id'));
 $(closestWidget).find('.element .options').css('visibility', 'visible');
 */
}

// Scroll to element

function generateStory() {
 // TODO: Take into account voting!
 
 // Show the introduction
 $('#float-page').fadeIn().delay(2000).fadeOut();
 
 // Generate list of "pages" to include in story
 var timelineList = $('#narrative-list li').get();
 var timelineHighlights = [ 0, 13, 19, 37, 55, 68 ];
 
 // Scroll through the pages
 $("html,body").stop().delay(1000);
 for(var i = 0; i < 6; i++) {
  $('html,body').animate({ scrollTop: $(timelineList[(timelineHighlights[i])]).offset().top }, 1000).delay(1000);
 }
 
 // Scroll to "end point" of story
 //$('html,body').animate({ scrollTop: $('#sciencekit-small-logo').offset().top }, 1000);
 $('html,body').animate({ scrollTop: document.body.scrollHeight }, 1000);
}

function generatePage() {
 // Show full-screen
 // Show controls for "next" and "previous" page
 // Let interact with page/timeline
}

function generatePhotoPage(event) {

 // Set image
 var imageUri = $(event.target).attr('src');
 $('#photo-page').find('.photo').attr('src', imageUri);
 
 // Show the introduction
 $('#photo-page').fadeIn();
 
 // Set up event handlers
 $('#photo-page').find('.hide').off('click');
 $('#photo-page').find('.hide').click(function () {
  $('#photo-page').fadeOut();
 });
}

function generateVideoPage(event) {

 // Set video
 var videoUri = $(event.target).find('.source').attr('src');
 $('#video-page').find('.video').attr('src', videoUri);
 
 // Show the introduction
 $('#video-page').fadeIn();
 
 // Set up event handlers
 $('#video-page').find('.hide').off('click');
 $('#video-page').find('.hide').click(function () {
  $('#video-page').fadeOut();
 });
}


function scrollToTop() {
 $('html,body').animate({ scrollTop: 0 }, 1000);
}

function scrollToBottom() {
 //$('html,body').animate({ scrollTop: $('#sciencekit-small-logo').offset().top }, 1000);
 //$('html,body').animate({ scrollTop: document.body.scrollHeight }, 1000);
 $('html,body').animate({ scrollTop: document.body.clientHeight }, 1000);
}

function scrollTickle() {
 var range = 70;
 var ms = 110;
 var iterations = 2;
 var position = $(window).scrollTop();
 for(var i = 0; i < iterations; i++) {
  $('html,body').animate({ scrollTop: position + range }, ms);
  $('html,body').animate({ scrollTop: position - range }, ms);
 }
 $('html,body').animate({ scrollTop: position }, ms);
 return false;
}</script></body></html>